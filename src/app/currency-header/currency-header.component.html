<header class="header">
  <h2 class="header-title">Currency Exchange Rates</h2>
  <div class="exchange-rates">
    <ng-container *ngIf="!errorMessage">
      <ng-container
        *ngTemplateOutlet="
          exchangeRateTemplate;
          context: { currency: 'USD', rate: usdToUah?.rate }
        "
      />
      <ng-container
        *ngTemplateOutlet="
          exchangeRateTemplate;
          context: { currency: 'EUR', rate: eurToUah?.rate }
        "
      />
    </ng-container>
    <app-error *ngIf="errorMessage" [errorMessage]="errorMessage" />
  </div>
</header>

<ng-template #exchangeRateTemplate let-currency="currency" let-rate="rate">
  <p class="exchange-rate">
    <span>{{ currency }} to UAH:</span>
    <ng-container *ngIf="!isLoading">
      <span class="rate">{{ rate }}</span>
    </ng-container>
    <app-loader *ngIf="isLoading" />
  </p>
</ng-template>
